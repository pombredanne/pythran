language: python
sudo: false
python:
    - "2.7"

addons:
    apt:
        sources:
            - boost-latest
            - llvm-toolchain-precise-3.5
            - llvm-toolchain-precise-3.6
            - ubuntu-toolchain-r-test
        packages:
            - gcc-5
            - g++-5
            - clang-3.5
            - clang-format-3.6
            - libgmp-dev
            - gfortran
            - libopenblas-dev
            - liblapack-dev

before_install:
    - pip install ply
    - pip install networkx
    - pip install colorlog
    - pip install numpy
    - pip install pytest-pep8
    - pip install pytest-xdist

    - python setup.py install 1> /dev/null

env:
    # Test with both clang and gcc
    # Only gcc can test openMP, and travis does not support gcc when gcc uses too much memory
    # So some tests have been commented out, as it is useless to compile them with clang
    - PEP8=false TESTCASE=pythran/tests/test_advanced.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_advanced.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_advanced.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_advanced.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_analyses.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_analyses.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_analyses.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_analyses.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_base.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_base.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_base.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_base.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_bisect.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_bisect.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_bisect.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_bisect.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_blas.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_blas.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_blas.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_blas.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_cases.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_cases.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_cases.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
#   - PEP8=false TESTCASE=pythran/tests/test_cases.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_complex.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_complex.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_complex.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_complex.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_constant_folding.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_constant_folding.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_constant_folding.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_constant_folding.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_conversion.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_conversion.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_conversion.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_conversion.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_copperhead.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_copperhead.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_copperhead.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_copperhead.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_dict.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_dict.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_dict.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_dict.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_distutils.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_distutils.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_distutils.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_distutils.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_doc.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_doc.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_doc.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_doc.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_euler.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_euler.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_euler.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
#   - PEP8=false TESTCASE=pythran/tests/test_euler.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_exception.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_exception.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_exception.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_exception.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_file.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_file.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_file.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_file.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_gwebb.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_gwebb.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_gwebb.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_gwebb.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_import_all.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_import_all.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_import_all.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_import_all.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_itertools.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_itertools.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_itertools.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_itertools.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_list.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_list.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_list.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_list.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_math.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_math.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_math.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_math.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_named_parameters.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_named_parameters.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_named_parameters.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_named_parameters.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_ndarray.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_ndarray.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_ndarray.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_ndarray.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_none.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_none.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_none.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_none.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_normalize_methods.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_normalize_methods.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_normalize_methods.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_normalize_methods.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_numpy_func0.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_numpy_func0.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_numpy_func0.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
#   - PEP8=false TESTCASE=pythran/tests/test_numpy_func0.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_numpy_func1.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_numpy_func1.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_numpy_func1.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_numpy_func1.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_numpy_func2.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_numpy_func2.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_numpy_func2.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_numpy_func2.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_numpy_func3.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_numpy_func3.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_numpy_func3.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
#   - PEP8=false TESTCASE=pythran/tests/test_numpy_func3.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_numpy_random.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_numpy_random.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_numpy_random.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_numpy_random.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_numpy_ufunc_unary.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_numpy_ufunc_unary.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_numpy_ufunc_unary.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
#   - PEP8=false TESTCASE=pythran/tests/test_numpy_ufunc_unary.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_numpy_ufunc_binary.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_numpy_ufunc_binary.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_numpy_ufunc_binary.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
#    - PEP8=false TESTCASE=pythran/tests/test_numpy_ufunc_binary.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_openmp.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_openmp.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_openmp.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_openmp.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_operator.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_operator.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_operator.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_operator.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_optimizations.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_optimizations.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_optimizations.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_optimizations.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_os.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_os.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_os.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_os.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_random.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_random.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_random.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_random.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_rec.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_rec.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_rec.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_rec.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_rosetta.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_rosetta.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_rosetta.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
#   - PEP8=false TESTCASE=pythran/tests/test_rosetta.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_scipy.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_scipy.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_scipy.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_scipy.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_set.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_set.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_set.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_set.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_spec_parser.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_spec_parser.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_spec_parser.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_spec_parser.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_str.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_str.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_str.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_str.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_submodules.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_submodules.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_submodules.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_submodules.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_time.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_time.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_time.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_time.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_typing.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_typing.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_typing.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_typing.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_user_defined_import.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-g"
    - PEP8=false TESTCASE=pythran/tests/test_user_defined_import.py CC=clang-3.5 CXX=clang++-3.5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native"
    - PEP8=false TESTCASE=pythran/tests/test_user_defined_import.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_user_defined_import.py CC=gcc-5 CXX=g++-5 CXXFLAGS="-DUSE_BOOST_SIMD -march=native -fopenmp"
    - PEP8=false TESTCASE=pythran/tests/test_format.py CC=gcc-5 CXX=g++-5
    - PEP8=true

script:
  - sh ./pythran/tests/travis_test.sh
